atlas {
  core {
    model {
      // Needed because datapoint gets the step from the config
      step = 60 seconds
    }

    vocabulary.words = ${atlas.core.vocabulary.words} [
      {
        name = "test-rewrite"
        # NamedRewrite needs: [original, rewritten, name]
        body = ":dup,test-rewrite,:named-rewrite"
        examples = [
          "name,http.req,:eq,:test-rewrite"
        ]
      }
    ]
  }

  chart {
    rendering-hints {
      // The antialiasing hints seem to be ignored in JDK15 on Mac OS
      KEY_ANTIALIASING = "VALUE_ANTIALIAS_OFF"
      KEY_TEXT_ANTIALIASING = "VALUE_TEXT_ANTIALIAS_OFF"
    }
  }

  eval {
    // For testing region rewrite in grapher
    host-rewrite {
      pattern = "^foo\\.([^.]+)\\.example\\.com$"
      key = "region"
    }

    graph {
      simple-legends-enabled = false
    }

    stream {
      simple-legends-enabled = false

      output-buffer-size = 100000

      rewrite {
        mode = "config"
        namespaces = [
          { namespace = "foo", host = "foo.example.com" }
        ]
      }
    }
  }
}